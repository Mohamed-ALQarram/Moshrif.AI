# Hierarchical Retrieval System - Quick Start Guide

## ๐ Project Structure

```
hierarchical_retrieval/
โโโ architecture.md              # ูุนูุงุฑูุฉ ุงููุธุงู ุจุงูุชูุตูู
โโโ build_hierarchical_index.py  # ุจูุงุก ุงูู index ุซูุงุซู ุงูุทุจูุงุช
โโโ search_hierarchical.py       # ุงูุจุญุซ ุงููุฑูู
โโโ example_usage.py             # ุฃูุซูุฉ ุงุณุชุฎุฏุงู
โโโ example_output.json          # ููุงุฐุฌ ูุชุงุฆุฌ
โโโ README.md                    # ูุฐุง ุงูููู
```

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

### 1. ุชุดุบูู ุฎุฏูุฉ ุงูู Embedding

```bash
cd f:\Moshrif\Embedding-Service
uvicorn main:app --host 0.0.0.0 --port 8000
```

### 2. ุจูุงุก ุงูู Index

```bash
cd hierarchical_retrieval
python build_hierarchical_index.py
```

**ุงููุฏุฉ ุงููุชููุนุฉ**: ุญุณุจ ุนุฏุฏ ุงูููุฏูููุงุช (~253 ููุฏูู = ~30-45 ุฏูููุฉ)

### 3. ุงูุจุญุซ

```python
from search_hierarchical import search_query

result = search_query("ุงุฒุงู ุงุญูุธ ุดุบูู ูู ุงูุจุฑูุฌุฉุ", top_k=3)
print(result)
```

## ๐ฏ ุงูุทุจูุงุช ุงูุซูุงุซ

| ุงูุทุจูุฉ | ุงููุฏุฎู | ุงูุนุชุจุฉ | ุงูุงุณุชุฎุฏุงู |
|--------|--------|--------|-----------|
| **Title** | `topicTitle` | 0.65 | ุฃุณุฆูุฉ ุนู ููุงุถูุน ูุญุฏุฏุฉ |
| **Filename** | `filename` | 0.60 | ุฃุณุฆูุฉ ุนุงูุฉ ุนู ููุฏูู |
| **Content** | `topicContent` | 0.55 | ุจุญุซ ุนููู ูู ุงููุญุชูู |

## ๐ ุฃูุซูุฉ ุงูุงุณุชุนูุงูุงุช

### ูุซุงู 1: Title Match
```python
query = "ุงุฒุงู ุงุญูุธ ุดุบูู ูู ุงูุจุฑูุฌุฉ ููุฒููุดุ"
# โ ูุทุงุจู ุนููุงู: "ููููุฉ ุงูุญูุงุธ ุนูู ุงูุดุบู ูุงูุชุญููุฒ"
# ๐ฆ ุงููุชูุฌุฉ: chunk ุฑุฆูุณู + 3-4 chunks ุณูุงู
```

### ูุซุงู 2: Filename Match
```python
query = "ุงุฒุงู ูุตุฑ ุชุจูู ุงูููุฏ ูู ุงูุชูููููุฌูุงุ"
# โ ูุทุงุจู ููุฏูู ูุงูู ุนู ูุฑุต ูุตุฑ
# ๐ฆ ุงููุชูุฌุฉ: ูู chunks ุงูููุฏูู ูุฑุชุจุฉ
```

### ูุซุงู 3: Content Match
```python
query = "ุงูู ูุฑุตุชู ูุดุงุจ ูุตุฑู ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ"
# โ ูุทุงุจู ูุญุชูู ูุญุฏุฏ
# ๐ฆ ุงููุชูุฌุฉ: chunk ุฑุฆูุณู + 1-2 ุณูุงู
```

## ๐ง ุงููุชุทูุจุงุช

- Python 3.10+
- qdrant-client==1.16.1
- requests
- ุฎุฏูุฉ embedding ุชุนูู ุนูู `http://127.0.0.1:8000/embed`

## ๐ ูููุฒูุฏ

ุฑุงุฌุน `architecture.md` ููุชูุงุตูู ุงููุงููุฉ.
